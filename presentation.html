<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Laptop price predition</title>
    <meta charset="utf-8" />
    <meta name="author" content="Group 42   Shiyun Sun, Yunfei Gao, Yunxiang Gao, Zhenyu She, Haoran Jiang" />
    <meta name="date" content="2023-11-30" />
    <script src="libs/header-attrs-2.25/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Laptop price predition
]
.author[
### Group 42 <br> Shiyun Sun, Yunfei Gao, Yunxiang Gao, Zhenyu She, Haoran Jiang
]
.institute[
### University of Edinburgh
]
.date[
### 2023-11-30
]

---













class: center, middle

## Goal:Predit the price of a computer based on its configuration

---

class: inverse, center, middle

# Data pre-processing

---

# Data pre-processing

```r
# PART1 &gt;&gt;&gt; Data pre-processing
```


```
## Rows: 1273 Columns: 13
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: ","
## chr (5): Company, TypeName, Cpu_brand, Gpu_brand, Os
## dbl (8): Ram, Weight, Price, TouchScreen, Ips, Ppi, HDD, SSD
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
```


```r
# Test the number of NA in data set
colSums(is.na(laptop_data_cleaned))
```

```
##     Company    TypeName         Ram      Weight       Price TouchScreen 
##           0           0           0           0           0           0 
##         Ips         Ppi   Cpu_brand         HDD         SSD   Gpu_brand 
##           0           0           0           0           0           0 
##          Os 
##           0
```
---

# Data pre-processing

```
## Rows: 1,184
## Columns: 14
## $ Company       &lt;chr&gt; "Apple", "HP", "Apple", "Apple", "Acer", "Asus", "Acer",…
## $ TypeName      &lt;chr&gt; "Ultrabook", "Notebook", "Ultrabook", "Ultrabook", "Note…
## $ Ram           &lt;dbl&gt; 8, 8, 16, 8, 4, 16, 8, 4, 4, 16, 4, 8, 8, 8, 16, 8, 8, 8…
## $ Weight        &lt;dbl&gt; 1.37, 1.86, 1.83, 1.37, 2.10, 1.30, 1.60, 1.86, 1.86, 1.…
## $ Price         &lt;dbl&gt; 11.175755, 10.329931, 11.814476, 11.473101, 9.967026, 11…
## $ TouchScreen   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,…
## $ Ips           &lt;dbl&gt; 1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0,…
## $ Ppi           &lt;dbl&gt; 226.9830, 141.2120, 220.5346, 226.9830, 100.4547, 157.35…
## $ Cpu_brand     &lt;chr&gt; "Intel Core i5", "Intel Core i5", "Intel Core i7", "Inte…
## $ HDD           &lt;dbl&gt; 0, 0, 0, 0, 500, 0, 0, 500, 500, 0, 0, 0, 0, 0, 0, 1000,…
## $ SSD           &lt;dbl&gt; 128, 256, 512, 256, 0, 512, 256, 0, 0, 256, 256, 256, 25…
## $ Gpu_brand     &lt;chr&gt; "Intel", "Intel", "AMD", "Intel", "AMD", "Nvidia", "Inte…
## $ Os            &lt;chr&gt; "Mac", "Others", "Mac", "Mac", "Windows", "Windows", "Wi…
## $ Storage_space &lt;dbl&gt; 128, 256, 512, 256, 500, 512, 256, 500, 500, 256, 256, 2…
```

---

class: inverse, center, middle

# Visualization

---

# Visualization
&lt;img src="img/company.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/typename.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/ram.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/weight.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/touchscreen.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/ips.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/ppi.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/cpu.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/hdd.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/gpu.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Visualization
&lt;img src="img/os.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

class: inverse, middle, center
# Split data set and Cross-validation

---
# Split data sets
train set(comprising 80% )

test set(comprising 20%)


set.seed(1365)

laptop_split &lt;- initial_split(laptop_data_cleaned, prop = 0.80)

train_data &lt;- training(laptop_split)

test_data  &lt;- testing(laptop_split)


---


# Preparation of cross-validation

Before we apply cross-validation, we need to build a workflow:

laptop_recipe &lt;- recipe(Price ~ ., data = train_data) %&gt;%
  
  step_dummy(all_nominal(), -all_outcomes()) %&gt;%
  
  step_rm(Storage_space)

laptop_mod &lt;- linear_reg() %&gt;%
  
  set_engine("lm")

laptop_workflow &lt;- workflow() %&gt;%
  
  add_recipe(laptop_recipe) %&gt;%
  
  add_model(laptop_mod)




---





# Cross-validation

Now we have everything we need.


set.seed(345)

laptop_folds &lt;- vfold_cv(train_data, v = 5)

set.seed(456)

laptop_fit_rs &lt;- laptop_workflow %&gt;%
  
  fit_resamples(laptop_folds)

laptop_fit_rs




---



# Is our model reliable?

collect_metrics(laptop_fit_rs)

summary(train_data$Price)

According to mean RSQ(0.791), it shows that 79.1% variability of the response variable (Price) can be explained by our model on train_data.
By comparing mean.RMSE(0.266) and Max.Price- Min.Price(12.691-9.135=3.556), it shows that the error of our method of predicting Price is totally acceptable(0.266/3.3556=7.93%).
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="img/jimm1.jpg" alt="Image credit: mean_RMSE&amp;amp;RSQ" width="55%" /&gt;
&lt;p class="caption"&gt;Image credit: mean_RMSE&amp;RSQ&lt;/p&gt;
&lt;/div&gt;
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="img/jimmy2.jpg" alt="Image credit: Summary Price" width="55%" /&gt;
&lt;p class="caption"&gt;Image credit: Summary Price&lt;/p&gt;
&lt;/div&gt;



---



## END
Now, because of the good performance of our model under 5-fold cross-validation, we feel confident applying our model of predicting Price to the whole data set.



---


class: inverse, middle, center

# Model building

---

# Initial model


```r
set.seed(1365)
laptop_split &lt;- initial_split(laptop_data_cleaned, prop = 0.80)
train_data &lt;- training(laptop_split)
laptop_fit &lt;- linear_reg() %&gt;%
  set_engine("lm") %&gt;%
  fit(Price ~ . - Storage_space, data = train_data)
tidy(laptop_fit)
```

```
## # A tibble: 36 × 5
##    term           estimate std.error statistic     p.value
##    &lt;chr&gt;             &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
##  1 (Intercept)      9.67      0.0873   111.    0          
##  2 CompanyApple     0.299     0.0921     3.25  0.00121    
##  3 CompanyAsus      0.102     0.0423     2.42  0.0158     
##  4 CompanyDell      0.172     0.0387     4.45  0.00000982 
##  5 CompanyFujitsu  -0.0214    0.149     -0.143 0.886      
##  6 CompanyGoogle    0.490     0.187      2.62  0.00896    
##  7 CompanyHP        0.192     0.0375     5.12  0.000000375
##  8 CompanyHuawei    0.144     0.255      0.566 0.572      
##  9 CompanyLenovo    0.105     0.0369     2.85  0.00446    
## 10 CompanyLG        0.479     0.184      2.60  0.00948    
## # ℹ 26 more rows
```

---

# Initial model graph

&lt;img src="img/initial.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Final model


```r
laptop_fit_final &lt;- linear_reg() %&gt;%
  set_engine("lm") %&gt;%
  fit(Price ~ .-HDD -Storage_space -Ips, data = train_data)
tidy(laptop_fit_final)
```

```
## # A tibble: 34 × 5
##    term           estimate std.error statistic     p.value
##    &lt;chr&gt;             &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
##  1 (Intercept)      9.67      0.0870   111.    0          
##  2 CompanyApple     0.307     0.0918     3.34  0.000869   
##  3 CompanyAsus      0.0929    0.0416     2.23  0.0258     
##  4 CompanyDell      0.165     0.0381     4.33  0.0000163  
##  5 CompanyFujitsu  -0.0279    0.149     -0.187 0.852      
##  6 CompanyGoogle    0.484     0.187      2.59  0.00978    
##  7 CompanyHP        0.189     0.0374     5.05  0.000000531
##  8 CompanyHuawei    0.152     0.254      0.598 0.550      
##  9 CompanyLenovo    0.106     0.0369     2.87  0.00427    
## 10 CompanyLG        0.485     0.184      2.64  0.00844    
## # ℹ 24 more rows
```

---

# Final model graph

&lt;img src="img/final.jpg" width="80%" style="display: block; margin: auto;" /&gt;

---

# Model test


```r
test &lt;- c(glance(laptop_fit)$adj.r.squared,
  AIC(laptop_fit$fit),
  glance(laptop_fit_final)$adj.r.squared,
  AIC(laptop_fit_final$fit))
table &lt;- matrix(test, nrow = 2, ncol = 2,
                       dimnames = list(test = c("R-square", "AIC"), 
                                       model = c("initial", "final")))
print(table)
```

```
##           model
## test           initial      final
##   R-square   0.8042408  0.8043248
##   AIC      101.2828232 98.9507274
```

---

#Reference
- Kushwaha, Gyan Prakash. “Laptop Price Prediction Cleaned Dataset.” Kaggle, 15 June 2023, www.kaggle.com/datasets/gyanprakashkushwaha/laptop-price-prediction-cleaned-dataset/data. 
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
